{"uid":"6f2f733dbd3bb936","name":"Выдаем и забираем роль администратора у обычного пользователя","fullName":"tests.test_settings#test_change_admin_role_flow","historyId":"b9ddf5043bb883a4867d67c1c7586019","time":{"start":1759415044761,"stop":1759415065325,"duration":20564},"status":"failed","statusMessage":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","statusTrace":"tests/test_settings.py:715: in test_change_admin_role_flow\n    modal_user.transition_to_contracts_page_assertion_not(base_url)\npage_opjects/settings_page/users_settings_page.py:236: in transition_to_contracts_page_assertion_not\n    expect(self.page).not_to_have_url(base_url + \"/settings/account/contracts\", timeout=7000)\nE   AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nE   Actual value: https://sprout-store.ru/settings/account/contracts \nE   Call log:\nE     - PageAssertions.not_to_have_url with timeout 7000ms\nE     - waiting for locator(\":root\")\nE       11 × locator resolved to <html lang=\"en\">…</html>\nE          - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759414616995,"stop":1759414617049,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1759414617049,"stop":1759414617366,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1759414617368,"stop":1759414617438,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1759415044761,"stop":1759415044761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","statusTrace":"tests/test_settings.py:715: in test_change_admin_role_flow\n    modal_user.transition_to_contracts_page_assertion_not(base_url)\npage_opjects/settings_page/users_settings_page.py:236: in transition_to_contracts_page_assertion_not\n    expect(self.page).not_to_have_url(base_url + \"/settings/account/contracts\", timeout=7000)\nE   AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nE   Actual value: https://sprout-store.ru/settings/account/contracts \nE   Call log:\nE     - PageAssertions.not_to_have_url with timeout 7000ms\nE     - waiting for locator(\":root\")\nE       11 × locator resolved to <html lang=\"en\">…</html>\nE          - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","steps":[{"name":"Вхожу как обычный пользователь","time":{"start":1759415044802,"stop":1759415052518,"duration":7716},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1759415044802,"stop":1759415049209,"duration":4407},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Тестовый покупатель для роли админа)","time":{"start":1759415049209,"stop":1759415052518,"duration":3309},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что ссылка /workspace-list НЕ отображается (Доступна только админу)","time":{"start":1759415052518,"stop":1759415065325,"duration":12807},"status":"failed","statusMessage":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"\n\n","statusTrace":"  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/tests/test_settings.py\", line 715, in test_change_admin_role_flow\n    modal_user.transition_to_contracts_page_assertion_not(base_url)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/settings_page/users_settings_page.py\", line 236, in transition_to_contracts_page_assertion_not\n    expect(self.page).not_to_have_url(base_url + \"/settings/account/contracts\", timeout=7000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 19058, in not_to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 141, in not_to_have_url\n    await self._not.to_have_url(urlOrRegExp, timeout, ignoreCase)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 127, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Проверяю отсутствие админских прав путем перехода в настройки аккаунта","time":{"start":1759415054361,"stop":1759415065324,"duration":10963},"status":"failed","statusMessage":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/settings_page/users_settings_page.py\", line 236, in transition_to_contracts_page_assertion_not\n    expect(self.page).not_to_have_url(base_url + \"/settings/account/contracts\", timeout=7000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 19058, in not_to_have_url\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 141, in not_to_have_url\n    await self._not.to_have_url(urlOrRegExp, timeout, ignoreCase)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 127, in to_have_url\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 74, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[{"name":"base_url","value":"'https://sprout-store.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1759415065341,"stop":1759415065711,"duration":370},"status":"passed","steps":[],"attachments":[{"uid":"7aab31443443e9a","name":"trace","source":"7aab31443443e9a.zip","type":"application/zip","size":4624390},{"uid":"10c52b753309bc64","name":"failure_screenshot","source":"10c52b753309bc64.png","type":"image/png","size":80399},{"uid":"523869869c26bb0d","name":"page_source","source":"523869869c26bb0d.html","type":"text/html","size":285236}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1759415163504,"stop":1759415163676,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1759415163678,"stop":1759415163691,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"6330-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":1,"skipped":0,"passed":22,"unknown":0,"total":27},"items":[{"uid":"224fff84b406c0be","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/241/#testresult/224fff84b406c0be","status":"failed","statusDetails":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","time":{"start":1759328644333,"stop":1759328665233,"duration":20900}},{"uid":"a6f8774eec958df6","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/240/#testresult/a6f8774eec958df6","status":"failed","statusDetails":"AssertionError: Page URL expected not to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/settings/account/contracts \nCall log:\n  - PageAssertions.not_to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/settings/account/contracts\"","time":{"start":1759324887476,"stop":1759324907271,"duration":19795}},{"uid":"c6d38e2629a33e03","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/239/#testresult/c6d38e2629a33e03","status":"failed","statusDetails":"AssertionError: Page URL expected to be 'https://sprout-store.ru/settings/account/contracts'\nActual value: https://sprout-store.ru/profile \nCall log:\n  - PageAssertions.to_have_url with timeout 7000ms\n  - waiting for locator(\":root\")\n    11 × locator resolved to <html lang=\"en\">…</html>\n       - unexpected value \"https://sprout-store.ru/profile\"","time":{"start":1759302674028,"stop":1759302708318,"duration":34290}},{"uid":"b3bc90e84c0fb6ec","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/237/#testresult/b3bc90e84c0fb6ec","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-tag-accent.color-dark-grey\")","time":{"start":1759218623900,"stop":1759218673455,"duration":49555}},{"uid":"179dfeefe7cdc3bb","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/236/#testresult/179dfeefe7cdc3bb","status":"passed","time":{"start":1759155666355,"stop":1759155691387,"duration":25032}},{"uid":"f553ac9f3b1c9377","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/235/#testresult/f553ac9f3b1c9377","status":"passed","time":{"start":1759069153233,"stop":1759069178371,"duration":25138}},{"uid":"a8f4779dbffb0133","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/234/#testresult/a8f4779dbffb0133","status":"passed","time":{"start":1758982812095,"stop":1758982837208,"duration":25113}},{"uid":"f7406b6fded6de8e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/233/#testresult/f7406b6fded6de8e","status":"passed","time":{"start":1758896398947,"stop":1758896424510,"duration":25563}},{"uid":"90d45b0936e34aef","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/232/#testresult/90d45b0936e34aef","status":"passed","time":{"start":1758810163791,"stop":1758810188160,"duration":24369}},{"uid":"a183dec7f19445da","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/231/#testresult/a183dec7f19445da","status":"passed","time":{"start":1758723520574,"stop":1758723546831,"duration":26257}},{"uid":"8d22c2099745ccf6","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/230/#testresult/8d22c2099745ccf6","status":"passed","time":{"start":1758637272993,"stop":1758637298734,"duration":25741}},{"uid":"8662c471bde9eb76","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/229/#testresult/8662c471bde9eb76","status":"passed","time":{"start":1758551107701,"stop":1758551135548,"duration":27847}},{"uid":"eb7b52a3ae76022c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/228/#testresult/eb7b52a3ae76022c","status":"passed","time":{"start":1758464380230,"stop":1758464406008,"duration":25778}},{"uid":"c16aa1be46c7390","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/227/#testresult/c16aa1be46c7390","status":"passed","time":{"start":1758377929197,"stop":1758377953438,"duration":24241}},{"uid":"17d285f7482302a4","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/226/#testresult/17d285f7482302a4","status":"passed","time":{"start":1758291673306,"stop":1758291699691,"duration":26385}},{"uid":"b0b5be72be71419a","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/225/#testresult/b0b5be72be71419a","status":"passed","time":{"start":1758205340532,"stop":1758205364977,"duration":24445}},{"uid":"5ca86c73f70c9fae","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/224/#testresult/5ca86c73f70c9fae","status":"passed","time":{"start":1758118887675,"stop":1758118912055,"duration":24380}},{"uid":"8f7a5d96ae7218ec","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/8f7a5d96ae7218ec","status":"passed","time":{"start":1758095710894,"stop":1758095737690,"duration":26796}},{"uid":"5c1c93de15422bdc","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/5c1c93de15422bdc","status":"passed","time":{"start":1758034505368,"stop":1758034532420,"duration":27052}},{"uid":"b300b3fbb5a8fe84","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/b300b3fbb5a8fe84","status":"passed","time":{"start":1758031815401,"stop":1758031839992,"duration":24591}}]},"tags":[]},"source":"6f2f733dbd3bb936.json","parameterValues":["'chromium'"]}