{"uid":"adca05485bf41221","name":"Операция с ролями (выбор, проверка доступных ролей, массовый выбор)","fullName":"tests.test_settings#test_roles_selection_in_user_card","historyId":"d19fafbcde4b2401895265d01c98a938","time":{"start":1759415006227,"stop":1759415032155,"duration":25928},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759414616995,"stop":1759414617049,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1759414617049,"stop":1759414617366,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1759414617368,"stop":1759414617438,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1759415006227,"stop":1759415006227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1759415006271,"stop":1759415010753,"duration":4482},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1759415010753,"stop":1759415014064,"duration":3311},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/settings/account/user-list","time":{"start":1759415014064,"stop":1759415015671,"duration":1607},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1759415015671,"stop":1759415017080,"duration":1409},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1759415017080,"stop":1759415017080,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что отображаются роли 'Пользователь' и 'Администратор аккаунта'","time":{"start":1759415017080,"stop":1759415017091,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1759415017092,"stop":1759415018130,"duration":1038},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Дважды кликаю по чекбоксу Все, чтобы сбросить роли","time":{"start":1759415018130,"stop":1759415019175,"duration":1045},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager НЕ отображается (Доступна только закупщику)","time":{"start":1759415019175,"stop":1759415019184,"duration":9},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1759415019176,"stop":1759415019184,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1759415019184,"stop":1759415020662,"duration":1478},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1759415020662,"stop":1759415023364,"duration":2702},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ФИО в подразделении отсутствует","time":{"start":1759415023364,"stop":1759415023393,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/account/user-list'","time":{"start":1759415023394,"stop":1759415024874,"duration":1480},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/account/user-list'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1759415024875,"stop":1759415026025,"duration":1150},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1759415026025,"stop":1759415027061,"duration":1036},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю все роли (клик по чекбоксу Все)","time":{"start":1759415027061,"stop":1759415028096,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1759415028096,"stop":1759415028096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что все роли теперь видимы в карточке","time":{"start":1759415028096,"stop":1759415028120,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager отображается (Доступна только закупщику)","time":{"start":1759415028120,"stop":1759415028127,"duration":7},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1759415028120,"stop":1759415028127,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1759415028127,"stop":1759415029621,"duration":1494},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1759415029621,"stop":1759415032115,"duration":2494},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что теперь ФИО присутствует хотя бы 1 раз","time":{"start":1759415032116,"stop":1759415032155,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":24,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1759415032155,"stop":1759415032167,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1759415163504,"stop":1759415163676,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1759415163678,"stop":1759415163691,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"6330-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":4,"skipped":0,"passed":21,"unknown":0,"total":27},"items":[{"uid":"54f1109e4be257c7","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/241/#testresult/54f1109e4be257c7","status":"passed","time":{"start":1759328603995,"stop":1759328631658,"duration":27663}},{"uid":"283fdb991a7288ac","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/240/#testresult/283fdb991a7288ac","status":"passed","time":{"start":1759324851486,"stop":1759324875775,"duration":24289}},{"uid":"97fe3647994ebcdf","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/239/#testresult/97fe3647994ebcdf","status":"passed","time":{"start":1759302639375,"stop":1759302663319,"duration":23944}},{"uid":"31698a7ca762f316","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/237/#testresult/31698a7ca762f316","status":"failed","statusDetails":"AssertionError: assert False\n +  where False = is_visible()\n +    where is_visible = <Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.user-card__roles.mb-14 >> text=\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c'>.is_visible\n +      where <Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.user-card__roles.mb-14 >> text=\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c'> = locator('text=\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c')\n +        where locator = <Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.user-card__roles.mb-14'>.locator","time":{"start":1759218572638,"stop":1759218582247,"duration":9609}},{"uid":"6b9610ef68b6569e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/236/#testresult/6b9610ef68b6569e","status":"passed","time":{"start":1759155633150,"stop":1759155655970,"duration":22820}},{"uid":"a001a37058e0a123","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/235/#testresult/a001a37058e0a123","status":"passed","time":{"start":1759069119315,"stop":1759069143003,"duration":23688}},{"uid":"d897faa69db0436c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/234/#testresult/d897faa69db0436c","status":"passed","time":{"start":1758982779175,"stop":1758982802026,"duration":22851}},{"uid":"b812d60fd9e2959","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/233/#testresult/b812d60fd9e2959","status":"passed","time":{"start":1758896365390,"stop":1758896388880,"duration":23490}},{"uid":"1ee70451102c54c1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/232/#testresult/1ee70451102c54c1","status":"passed","time":{"start":1758810131573,"stop":1758810154048,"duration":22475}},{"uid":"4e1b122d5ac21154","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/231/#testresult/4e1b122d5ac21154","status":"passed","time":{"start":1758723486717,"stop":1758723509050,"duration":22333}},{"uid":"74a257ac369b8367","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/230/#testresult/74a257ac369b8367","status":"passed","time":{"start":1758637238278,"stop":1758637262100,"duration":23822}},{"uid":"fbfd08758d56aeaf","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/229/#testresult/fbfd08758d56aeaf","status":"passed","time":{"start":1758551069161,"stop":1758551096050,"duration":26889}},{"uid":"3c4ba82c62c7aa91","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/228/#testresult/3c4ba82c62c7aa91","status":"passed","time":{"start":1758464344832,"stop":1758464369008,"duration":24176}},{"uid":"9ad9d6ea46bb7043","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/227/#testresult/9ad9d6ea46bb7043","status":"passed","time":{"start":1758377897282,"stop":1758377919546,"duration":22264}},{"uid":"ff6c870781a6d27d","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/226/#testresult/ff6c870781a6d27d","status":"passed","time":{"start":1758291638195,"stop":1758291662260,"duration":24065}},{"uid":"1061265871b29a53","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/225/#testresult/1061265871b29a53","status":"passed","time":{"start":1758205308514,"stop":1758205330896,"duration":22382}},{"uid":"8f2290cfb3c987c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/224/#testresult/8f2290cfb3c987c","status":"passed","time":{"start":1758118855364,"stop":1758118877882,"duration":22518}},{"uid":"3f9d323b41542b87","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/3f9d323b41542b87","status":"passed","time":{"start":1758095675600,"stop":1758095700081,"duration":24481}},{"uid":"bbc2f07532d647e1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/bbc2f07532d647e1","status":"passed","time":{"start":1758034468779,"stop":1758034494455,"duration":25676}},{"uid":"7cfbbf4c46a8a9e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/7cfbbf4c46a8a9e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span title=\"Тестов Тесттт т\" class=\"ant-select-selection-item\">Тестов Тесттт т</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1758031761271,"stop":1758031805216,"duration":43945}}]},"tags":[]},"source":"adca05485bf41221.json","parameterValues":["'chromium'"]}