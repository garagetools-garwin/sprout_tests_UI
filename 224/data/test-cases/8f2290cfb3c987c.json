{"uid":"8f2290cfb3c987c","name":"Операция с ролями (выбор, проверка доступных ролей, массовый выбор)","fullName":"tests.test_settings#test_roles_selection_in_user_card","historyId":"d19fafbcde4b2401895265d01c98a938","time":{"start":1758118855364,"stop":1758118877882,"duration":22518},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1758118549618,"stop":1758118549674,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758118549674,"stop":1758118549674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1758118549674,"stop":1758118549674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758118549674,"stop":1758118549674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758118549674,"stop":1758118549674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758118549674,"stop":1758118549674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1758118549674,"stop":1758118549978,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1758118549979,"stop":1758118549979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1758118549979,"stop":1758118550048,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1758118549979,"stop":1758118549979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1758118549979,"stop":1758118549979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1758118855364,"stop":1758118855364,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1758118855409,"stop":1758118858112,"duration":2703},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1758118858112,"stop":1758118861469,"duration":3357},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/settings/account/user-list","time":{"start":1758118861469,"stop":1758118862664,"duration":1195},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758118862664,"stop":1758118864014,"duration":1350},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758118864015,"stop":1758118864015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что отображаются роли 'Пользователь' и 'Администратор аккаунта'","time":{"start":1758118864015,"stop":1758118864034,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758118864034,"stop":1758118865071,"duration":1037},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Дважды кликаю по чекбоксу Все, чтобы сбросить роли","time":{"start":1758118865071,"stop":1758118866121,"duration":1050},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager НЕ отображается (Доступна только закупщику)","time":{"start":1758118866121,"stop":1758118866131,"duration":10},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758118866121,"stop":1758118866131,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758118866131,"stop":1758118867343,"duration":1212},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758118867343,"stop":1758118869853,"duration":2510},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ФИО в подразделении отсутствует","time":{"start":1758118869853,"stop":1758118869883,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/account/user-list'","time":{"start":1758118869884,"stop":1758118871083,"duration":1199},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/account/user-list'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758118871083,"stop":1758118872149,"duration":1066},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758118872149,"stop":1758118873185,"duration":1036},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю все роли (клик по чекбоксу Все)","time":{"start":1758118873185,"stop":1758118874237,"duration":1052},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758118874237,"stop":1758118874237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что все роли теперь видимы в карточке","time":{"start":1758118874237,"stop":1758118874269,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager отображается (Доступна только закупщику)","time":{"start":1758118874269,"stop":1758118874276,"duration":7},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758118874269,"stop":1758118874276,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758118874276,"stop":1758118875493,"duration":1217},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758118875493,"stop":1758118877845,"duration":2352},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что теперь ФИО присутствует хотя бы 1 раз","time":{"start":1758118877845,"stop":1758118877882,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":24,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1758118877883,"stop":1758118877896,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1758119012861,"stop":1758119013014,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1758119013015,"stop":1758119013027,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"6369-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":4,"skipped":0,"passed":5,"unknown":0,"total":10},"items":[{"uid":"3f9d323b41542b87","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/3f9d323b41542b87","status":"passed","time":{"start":1758095675600,"stop":1758095700081,"duration":24481}},{"uid":"bbc2f07532d647e1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/bbc2f07532d647e1","status":"passed","time":{"start":1758034468779,"stop":1758034494455,"duration":25676}},{"uid":"7cfbbf4c46a8a9e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/7cfbbf4c46a8a9e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span title=\"Тестов Тесттт т\" class=\"ant-select-selection-item\">Тестов Тесттт т</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1758031761271,"stop":1758031805216,"duration":43945}},{"uid":"81b888c53582e480","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/219/#testresult/81b888c53582e480","status":"failed","statusDetails":"AssertionError: assert not True\n +  where True = is_manager_link_visible()\n +    where is_manager_link_visible = <page_opjects.settings_page.users_settings_page.UserModal object at 0x7f9f6c382960>.is_manager_link_visible","time":{"start":1757945380439,"stop":1757945391722,"duration":11283}},{"uid":"4e71f95861788359","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/218/#testresult/4e71f95861788359","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"undefined_list\" aria-controls=\"undefined_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    57 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757859009295,"stop":1757859054642,"duration":45347}},{"uid":"dee647af7487d279","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/217/#testresult/dee647af7487d279","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757772528959,"stop":1757772572831,"duration":43872}},{"uid":"8d4942a9ffdb5bd4","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/216/#testresult/8d4942a9ffdb5bd4","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757686138010,"stop":1757686181582,"duration":43572}},{"uid":"b24dd919e413d8c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/215/#testresult/b24dd919e413d8c","status":"passed","time":{"start":1757599700261,"stop":1757599720309,"duration":20048}},{"uid":"ab0263928bf24117","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/214/#testresult/ab0263928bf24117","status":"passed","time":{"start":1757591815774,"stop":1757591838639,"duration":22865}}]},"tags":[]},"source":"8f2290cfb3c987c.json","parameterValues":["'chromium'"]}