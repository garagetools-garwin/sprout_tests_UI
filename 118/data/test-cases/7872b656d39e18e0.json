{"uid":"7872b656d39e18e0","name":"Приглашение пользователя и проверка активации","fullName":"tests.test_users#test_user_invitation","historyId":"079890204cf97f8610d9e73d2a80c272","time":{"start":1752502361682,"stop":1752502375073,"duration":13391},"status":"broken","statusMessage":"TypeError: Frame.type() missing 1 required positional argument: 'text'","statusTrace":"base_url = 'https://sprout-store.ru'\npage_factory_fixture = <function page_factory_fixture.<locals>._factory at 0x7fa7cd268a40>\ndelete_user_fixture = (<function delete_user_fixture.<locals>.mark_user_created at 0x7fa7cd2687c0>, <function delete_user_fixture.<locals>.mark_user_deleted at 0x7fa7cd2682c0>)\n\n    @allure.title(\"Приглашение пользователя и проверка активации\")\n    def test_user_invitation(base_url, page_factory_fixture, delete_user_fixture):\n        mark_user_created, mark_user_deleted = delete_user_fixture  # Получаем оба метода\n    \n        # Путь к auth_states\n        project_root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n        auth_states_dir = os.path.join(project_root, 'auth_states')\n        auth_state_path = os.path.join(auth_states_dir, \"auth_state.json\")\n    \n        # === Админ: создаёт пользователя ===\n        admin_page = page_factory_fixture()\n        autorization_page = AutorizationPage(admin_page)\n        home_page = HomePage(admin_page)\n        settings_account_page = SettingsAccountPage(admin_page)\n        autorization_page.open(base_url)\n        autorization_page.admin_buyer_authorize()\n        admin_page.context.storage_state(path=auth_state_path)\n        home_page.click_settings_button()\n        settings_account_page.click_users_button()\n>       settings_account_page.add_user()\n\ntests/test_users.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npage_opjects/settings_account_page.py:59: in add_user\n    self.page.type(self.EMAIL_INPUT, TESTMAIL_ADRESS_)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:11256: in type\n    self._sync(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Page url='https://sprout-store.ru/settings/account/user-list'>\nselector = '#email', text = None, delay = None, timeout = None\nnoWaitAfter = None, strict = None\n\n    async def type(\n        self,\n        selector: str,\n        text: str,\n        delay: float = None,\n        timeout: float = None,\n        noWaitAfter: bool = None,\n        strict: bool = None,\n    ) -> None:\n>       return await self._main_frame.type(**locals_to_params(locals()))\nE       TypeError: Frame.type() missing 1 required positional argument: 'text'\n\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_page.py:1041: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1752502319299,"stop":1752502319299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1752502319299,"stop":1752502319299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1752502319299,"stop":1752502319299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1752502319299,"stop":1752502319299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1752502325306,"stop":1752502325306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1752502325306,"stop":1752502325615,"duration":309},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1752502325615,"stop":1752502325615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1752502325615,"stop":1752502327404,"duration":1789},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1752502325615,"stop":1752502325615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1752502325615,"stop":1752502325615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_user_fixture","time":{"start":1752502361682,"stop":1752502361682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_factory_fixture","time":{"start":1752502361682,"stop":1752502361682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"TypeError: Frame.type() missing 1 required positional argument: 'text'","statusTrace":"base_url = 'https://sprout-store.ru'\npage_factory_fixture = <function page_factory_fixture.<locals>._factory at 0x7fa7cd268a40>\ndelete_user_fixture = (<function delete_user_fixture.<locals>.mark_user_created at 0x7fa7cd2687c0>, <function delete_user_fixture.<locals>.mark_user_deleted at 0x7fa7cd2682c0>)\n\n    @allure.title(\"Приглашение пользователя и проверка активации\")\n    def test_user_invitation(base_url, page_factory_fixture, delete_user_fixture):\n        mark_user_created, mark_user_deleted = delete_user_fixture  # Получаем оба метода\n    \n        # Путь к auth_states\n        project_root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n        auth_states_dir = os.path.join(project_root, 'auth_states')\n        auth_state_path = os.path.join(auth_states_dir, \"auth_state.json\")\n    \n        # === Админ: создаёт пользователя ===\n        admin_page = page_factory_fixture()\n        autorization_page = AutorizationPage(admin_page)\n        home_page = HomePage(admin_page)\n        settings_account_page = SettingsAccountPage(admin_page)\n        autorization_page.open(base_url)\n        autorization_page.admin_buyer_authorize()\n        admin_page.context.storage_state(path=auth_state_path)\n        home_page.click_settings_button()\n        settings_account_page.click_users_button()\n>       settings_account_page.add_user()\n\ntests/test_users.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npage_opjects/settings_account_page.py:59: in add_user\n    self.page.type(self.EMAIL_INPUT, TESTMAIL_ADRESS_)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:11256: in type\n    self._sync(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Page url='https://sprout-store.ru/settings/account/user-list'>\nselector = '#email', text = None, delay = None, timeout = None\nnoWaitAfter = None, strict = None\n\n    async def type(\n        self,\n        selector: str,\n        text: str,\n        delay: float = None,\n        timeout: float = None,\n        noWaitAfter: bool = None,\n        strict: bool = None,\n    ) -> None:\n>       return await self._main_frame.type(**locals_to_params(locals()))\nE       TypeError: Frame.type() missing 1 required positional argument: 'text'\n\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_page.py:1041: TypeError","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1752502361726,"stop":1752502365126,"duration":3400},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь","time":{"start":1752502365126,"stop":1752502368473,"duration":3347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаю на иконку настроек","time":{"start":1752502368479,"stop":1752502372918,"duration":4439},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаю на иконку Пользователи","time":{"start":1752502372918,"stop":1752502374013,"duration":1095},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавляю пользователя","time":{"start":1752502374013,"stop":1752502375072,"duration":1059},"status":"broken","statusMessage":"TypeError: Frame.type() missing 1 required positional argument: 'text'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/settings_account_page.py\", line 59, in add_user\n    self.page.type(self.EMAIL_INPUT, TESTMAIL_ADRESS_)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 11256, in type\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_page.py\", line 1041, in type\n    return await self._main_frame.type(**locals_to_params(locals()))\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Кликаю на иконку Добавить пользователя","time":{"start":1752502374013,"stop":1752502375071,"duration":1058},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_user_fixture::0","time":{"start":1752502375188,"stop":1752502375188,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"e37e417a64ad6aa1","name":"DEBUG","source":"e37e417a64ad6aa1.txt","type":"text/plain","size":23}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"page_factory_fixture::0","time":{"start":1752502375188,"stop":1752502375636,"duration":448},"status":"passed","steps":[],"attachments":[{"uid":"847a6d83e712caf4","name":"trace","source":"847a6d83e712caf4.zip","type":"application/zip","size":5545642},{"uid":"f371e322c8b6fe03","name":"failure_screenshot","source":"f371e322c8b6fe03.png","type":"image/png","size":110086},{"uid":"6cb65262cf5bbcb5","name":"page_source","source":"6cb65262cf5bbcb5.html","type":"text/html","size":398460}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1752502375636,"stop":1752502376377,"duration":741},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1752502376378,"stop":1752502376387,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_users"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"6243-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_users"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"63f848308d8caf49","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752502344674,"stop":1752502358095,"duration":13421}},{"uid":"cc584397d978929","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752502327405,"stop":1752502341090,"duration":13685}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":0,"unknown":0,"total":7},"items":[{"uid":"c3825aa25796d4ad","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/117//#testresult/c3825aa25796d4ad","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752470594977,"stop":1752470607147,"duration":12170}},{"uid":"a8e9e3ef290c9615","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/116//#testresult/a8e9e3ef290c9615","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752415360230,"stop":1752415372742,"duration":12512}},{"uid":"fe02731c84aff884","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/115//#testresult/fe02731c84aff884","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752383984038,"stop":1752383996268,"duration":12230}},{"uid":"ec4cc31d9a15ee47","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/114//#testresult/ec4cc31d9a15ee47","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752329387253,"stop":1752329399351,"duration":12098}},{"uid":"b43477566b0c4836","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/113//#testresult/b43477566b0c4836","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752297543014,"stop":1752297556219,"duration":13205}},{"uid":"ee8cee21d1e02d88","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/112//#testresult/ee8cee21d1e02d88","status":"broken","statusDetails":"TypeError: Frame.type() missing 1 required positional argument: 'text'","time":{"start":1752243072202,"stop":1752243085490,"duration":13288}}]},"tags":[]},"source":"7872b656d39e18e0.json","parameterValues":["'chromium'"]}