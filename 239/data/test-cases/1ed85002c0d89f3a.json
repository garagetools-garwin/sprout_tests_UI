{"uid":"1ed85002c0d89f3a","name":"Округление копеек в листинге через настройку в Контрактах","fullName":"tests.test_settings#test_rounding_toggle_affects_listing_prices","historyId":"89e6957c4d95999ce52a34eb63a09003","time":{"start":1759302319901,"stop":1759302337597,"duration":17696},"status":"failed","statusMessage":"AssertionError: Округление работает некорректно: Не все копейки стали 00\nassert False","statusTrace":"tests/test_settings.py:69: in test_rounding_toggle_affects_listing_prices\n    assert is_rounded, f\"Округление работает некорректно: {message}\"\nE   AssertionError: Округление работает некорректно: Не все копейки стали 00\nE   assert False","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759302310576,"stop":1759302310576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1759302310576,"stop":1759302310632,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759302310576,"stop":1759302310576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759302310633,"stop":1759302310633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1759302310633,"stop":1759302310918,"duration":285},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1759302310633,"stop":1759302310633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759302310633,"stop":1759302310633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1759302310918,"stop":1759302310919,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1759302310918,"stop":1759302310918,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1759302310919,"stop":1759302310996,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1759302310919,"stop":1759302310919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1759302319900,"stop":1759302319900,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Округление работает некорректно: Не все копейки стали 00\nassert False","statusTrace":"tests/test_settings.py:69: in test_rounding_toggle_affects_listing_prices\n    assert is_rounded, f\"Округление работает некорректно: {message}\"\nE   AssertionError: Округление работает некорректно: Не все копейки стали 00\nE   assert False","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1759302319950,"stop":1759302323494,"duration":3544},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1759302323494,"stop":1759302326811,"duration":3317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что округление выключено","time":{"start":1759302326811,"stop":1759302329434,"duration":2623},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/settings/account/contracts","time":{"start":1759302326811,"stop":1759302328197,"duration":1386},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Отключаю тумблер 'Округление итоговой суммы', если он включен","time":{"start":1759302328198,"stop":1759302329408,"duration":1210},"status":"passed","steps":[{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1759302328198,"stop":1759302328359,"duration":161},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1759302329408,"stop":1759302329434,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что цены содержат ненулевые копейки","time":{"start":1759302329434,"stop":1759302332819,"duration":3385},"status":"passed","steps":[{"name":"Открываю указанный URL листинга","time":{"start":1759302329434,"stop":1759302330857,"duration":1423},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/catalog/9/3707'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что в ценах есть ненулевые копейки (до округления)","time":{"start":1759302330857,"stop":1759302332788,"duration":1931},"status":"passed","steps":[{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1759302330857,"stop":1759302332788,"duration":1931},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1759302330857,"stop":1759302332788,"duration":1931},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1759302332788,"stop":1759302332819,"duration":31},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1759302332789,"stop":1759302332819,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Включаю округление","time":{"start":1759302332819,"stop":1759302335309,"duration":2490},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/settings/account/contracts","time":{"start":1759302332819,"stop":1759302334203,"duration":1384},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Включаю тумблер 'Округление итоговой суммы'","time":{"start":1759302334203,"stop":1759302335288,"duration":1085},"status":"passed","steps":[{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1759302334203,"stop":1759302334232,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1759302335288,"stop":1759302335309,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Возвращаюсь в листинг и проверяю правильность округления","time":{"start":1759302335309,"stop":1759302337597,"duration":2288},"status":"failed","statusMessage":"AssertionError: Округление работает некорректно: Не все копейки стали 00\nassert False\n","statusTrace":"  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/tests/test_settings.py\", line 69, in test_rounding_toggle_affects_listing_prices\n    assert is_rounded, f\"Округление работает некорректно: {message}\"\n","steps":[{"name":"Открываю указанный URL листинга","time":{"start":1759302335309,"stop":1759302336709,"duration":1400},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/catalog/9/3707'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что все цены округлены (копейки = 00, рубли увеличены)","time":{"start":1759302336710,"stop":1759302337597,"duration":887},"status":"passed","steps":[{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1759302336710,"stop":1759302337597,"duration":887},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1759302336710,"stop":1759302337597,"duration":887},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"original_price_data","value":"[{'full_price': '268.12 ₽', 'rubles': 268, 'kopecks': 12}, {'full_price': '470.25 ₽', 'rubles': 470, 'kopecks': 25}]"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":24,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1759302337609,"stop":1759302338182,"duration":573},"status":"passed","steps":[],"attachments":[{"uid":"91e92be0eb207817","name":"trace","source":"91e92be0eb207817.zip","type":"application/zip","size":7568532},{"uid":"ed68fb03f7b79f24","name":"failure_screenshot","source":"ed68fb03f7b79f24.png","type":"image/png","size":127762},{"uid":"cfe84007a8086189","name":"page_source","source":"cfe84007a8086189.html","type":"text/html","size":263413}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1759302816173,"stop":1759302816339,"duration":166},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1759302816340,"stop":1759302816351,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"6317-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":47,"unknown":0,"total":49},"items":[{"uid":"f1918d09be6d4f24","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/237/#testresult/f1918d09be6d4f24","status":"failed","statusDetails":"AssertionError: Округление работает некорректно: Не все копейки стали 00\nassert False","time":{"start":1759218177770,"stop":1759218195339,"duration":17569}},{"uid":"fdb929905b70ff77","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/236/#testresult/fdb929905b70ff77","status":"passed","time":{"start":1759155324127,"stop":1759155339808,"duration":15681}},{"uid":"2b5717d450d18de1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/235/#testresult/2b5717d450d18de1","status":"passed","time":{"start":1759068811976,"stop":1759068827820,"duration":15844}},{"uid":"949867579ee83c09","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/234/#testresult/949867579ee83c09","status":"passed","time":{"start":1758982476388,"stop":1758982492203,"duration":15815}},{"uid":"555c14e79992591b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/233/#testresult/555c14e79992591b","status":"passed","time":{"start":1758896061133,"stop":1758896076879,"duration":15746}},{"uid":"c899a7d2c0651abb","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/232/#testresult/c899a7d2c0651abb","status":"passed","time":{"start":1758809833682,"stop":1758809848735,"duration":15053}},{"uid":"d7fdadfc78743a48","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/231/#testresult/d7fdadfc78743a48","status":"passed","time":{"start":1758723190984,"stop":1758723205846,"duration":14862}},{"uid":"c3f0197524b6e8d4","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/230/#testresult/c3f0197524b6e8d4","status":"passed","time":{"start":1758636924058,"stop":1758636940881,"duration":16823}},{"uid":"424f57f7b5fc135b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/229/#testresult/424f57f7b5fc135b","status":"passed","time":{"start":1758550734700,"stop":1758550753969,"duration":19269}},{"uid":"aa9333f044f3e2c3","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/228/#testresult/aa9333f044f3e2c3","status":"passed","time":{"start":1758464034290,"stop":1758464051285,"duration":16995}},{"uid":"111ddcd20b065219","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/227/#testresult/111ddcd20b065219","status":"passed","time":{"start":1758377607454,"stop":1758377622799,"duration":15345}},{"uid":"6f6dd33628917c18","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/226/#testresult/6f6dd33628917c18","status":"passed","time":{"start":1758291276842,"stop":1758291292871,"duration":16029}},{"uid":"6fb69063c5ab2d71","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/225/#testresult/6fb69063c5ab2d71","status":"passed","time":{"start":1758205014058,"stop":1758205029461,"duration":15403}},{"uid":"a231404f50a78864","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/224/#testresult/a231404f50a78864","status":"passed","time":{"start":1758118558281,"stop":1758118573300,"duration":15019}},{"uid":"f1b85f7e59d5c789","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/f1b85f7e59d5c789","status":"passed","time":{"start":1758095358048,"stop":1758095374872,"duration":16824}},{"uid":"53509e78ee6b2399","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/53509e78ee6b2399","status":"passed","time":{"start":1758034144067,"stop":1758034161765,"duration":17698}},{"uid":"4026cd2f224cef84","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/4026cd2f224cef84","status":"passed","time":{"start":1758031468741,"stop":1758031483915,"duration":15174}},{"uid":"e74b8144253aeed3","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/219/#testresult/e74b8144253aeed3","status":"passed","time":{"start":1757945071078,"stop":1757945087330,"duration":16252}},{"uid":"c9d16ebce720bd8e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/218/#testresult/c9d16ebce720bd8e","status":"passed","time":{"start":1757858686414,"stop":1757858704768,"duration":18354}},{"uid":"37c3764f70e6daf0","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/217/#testresult/37c3764f70e6daf0","status":"passed","time":{"start":1757772238900,"stop":1757772253796,"duration":14896}}]},"tags":[]},"source":"1ed85002c0d89f3a.json","parameterValues":["'chromium'"]}