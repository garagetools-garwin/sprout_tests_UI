{"uid":"f1d3bf7f118df920","name":"TC-801: Проверка отображения доступных средств для закупки","fullName":"tests.test_cart#test_display_available_purchase_limit","historyId":"8141be5d62a0546ad1721828374ffeeb","time":{"start":1769610811738,"stop":1769610849356,"duration":37618},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'","statusTrace":"tests/test_cart.py:461: in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\npage_opjects/cart_page.py:403: in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\nE   ValueError: could not convert string to float: 'Лимитпревышенна462.99'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1769610276675,"stop":1769610276732,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1769610276675,"stop":1769610276675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1769610276675,"stop":1769610276675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1769610276732,"stop":1769610276732,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769610276732,"stop":1769610276732,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1769610276732,"stop":1769610277033,"duration":301},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1769610276732,"stop":1769610276732,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1769610277033,"stop":1769610277033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1769610277033,"stop":1769610277033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1769610277034,"stop":1769610277034,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1769610277034,"stop":1769610277099,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1769610811737,"stop":1769610811737,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'","statusTrace":"tests/test_cart.py:461: in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\npage_opjects/cart_page.py:403: in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\nE   ValueError: could not convert string to float: 'Лимитпревышенна462.99'","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1769610811796,"stop":1769610817057,"duration":5261},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1769610817057,"stop":1769610820363,"duration":3306},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769610820363,"stop":1769610825028,"duration":4665},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1769610825028,"stop":1769610828869,"duration":3841},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769610825028,"stop":1769610827759,"duration":2731},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю на кнопку меню","time":{"start":1769610827759,"stop":1769610828857,"duration":1098},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://sprout-store.ru'"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю начальный лимит подразделения","time":{"start":1769610828869,"stop":1769610832686,"duration":3817},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769610828869,"stop":1769610831802,"duration":2933},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю общую сумму лимита","time":{"start":1769610831802,"stop":1769610832686,"duration":884},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"e256420666c1e989","name":"Начальный лимит","source":"e256420666c1e989.attach","type":"text/plain","size":39}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Добавляю в корзину","time":{"start":1769610832687,"stop":1769610849312,"duration":16625},"status":"passed","steps":[{"name":"Добавляю товар дороже 350 в корзину","time":{"start":1769610836977,"stop":1769610843026,"duration":6049},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min_price","value":"350"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769610843026,"stop":1769610847312,"duration":4286},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю стоимость добавленного товара","time":{"start":1769610849312,"stop":1769610849339,"duration":27},"status":"passed","steps":[{"name":"Получаю стоимость товаров из блока калькуляции","time":{"start":1769610849312,"stop":1769610849338,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"990955aa2b745e3f","name":"Стоимость товара","source":"990955aa2b745e3f.attach","type":"text/plain","size":42}],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что в блоке лимита отображается общая сумма лимита","time":{"start":1769610849339,"stop":1769610849347,"duration":8},"status":"passed","steps":[{"name":"Получаю общую сумму лимита","time":{"start":1769610849339,"stop":1769610849347,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что оставшаяся сумма лимита рассчитана корректно","time":{"start":1769610849347,"stop":1769610849355,"duration":8},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'\n","statusTrace":"  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/tests/test_cart.py\", line 461, in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/cart_page.py\", line 403, in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Получаю оставшуюся сумму лимита","time":{"start":1769610849347,"stop":1769610849355,"duration":8},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/cart_page.py\", line 403, in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":18,"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1769610849371,"stop":1769610850004,"duration":633},"status":"passed","steps":[],"attachments":[{"uid":"850105fea102f564","name":"trace","source":"850105fea102f564.zip","type":"application/zip","size":8929089},{"uid":"2b718647ebacecf6","name":"failure_screenshot","source":"2b718647ebacecf6.png","type":"image/png","size":114122},{"uid":"c35de89ef4cfc28f","name":"page_source","source":"c35de89ef4cfc28f.html","type":"text/html","size":290750}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1769612376644,"stop":1769612376991,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1769612376992,"stop":1769612377004,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"6036-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":3,"unknown":0,"total":4},"items":[{"uid":"f291f6e8a775471d","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/377/#testresult/f291f6e8a775471d","status":"passed","time":{"start":1769524234925,"stop":1769524262628,"duration":27703}},{"uid":"2614adca1ca1ae10","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/376/#testresult/2614adca1ca1ae10","status":"passed","time":{"start":1769437731486,"stop":1769437758253,"duration":26767}},{"uid":"86af0fa2ee886846","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/375/#testresult/86af0fa2ee886846","status":"passed","time":{"start":1769431504514,"stop":1769431529547,"duration":25033}}]},"tags":[]},"source":"f1d3bf7f118df920.json","parameterValues":["'chromium'"]}