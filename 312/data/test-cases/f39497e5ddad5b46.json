{"uid":"f39497e5ddad5b46","name":"Округление копеек в листинге через настройку в Контрактах","fullName":"tests.test_settings#test_rounding_toggle_affects_listing_prices","historyId":"89e6957c4d95999ce52a34eb63a09003","time":{"start":1764428470713,"stop":1764428490322,"duration":19609},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1764428460630,"stop":1764428460630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1764428460630,"stop":1764428460687,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764428460630,"stop":1764428460630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764428460688,"stop":1764428460688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764428460688,"stop":1764428460688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1764428460688,"stop":1764428460979,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1764428460688,"stop":1764428460688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1764428460980,"stop":1764428460980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1764428460980,"stop":1764428460980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1764428460980,"stop":1764428461055,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1764428460980,"stop":1764428460980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1764428470713,"stop":1764428470713,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1764428470754,"stop":1764428474806,"duration":4052},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1764428474806,"stop":1764428478127,"duration":3321},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что округление выключено","time":{"start":1764428478128,"stop":1764428481052,"duration":2924},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/settings/account/contracts","time":{"start":1764428478128,"stop":1764428479798,"duration":1670},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Отключаю тумблер 'Округление итоговой суммы', если он включен","time":{"start":1764428479798,"stop":1764428481013,"duration":1215},"status":"passed","steps":[{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1764428479798,"stop":1764428479959,"duration":161},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1764428481014,"stop":1764428481052,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что цены содержат ненулевые копейки","time":{"start":1764428481052,"stop":1764428484953,"duration":3901},"status":"passed","steps":[{"name":"Открываю указанный URL листинга","time":{"start":1764428481052,"stop":1764428482495,"duration":1443},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/catalog/9/3707'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что в ценах есть ненулевые копейки (до округления)","time":{"start":1764428482495,"stop":1764428484921,"duration":2426},"status":"passed","steps":[{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1764428482495,"stop":1764428484921,"duration":2426},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1764428482495,"stop":1764428484921,"duration":2426},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1764428484921,"stop":1764428484953,"duration":32},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1764428484921,"stop":1764428484953,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Включаю округление","time":{"start":1764428484953,"stop":1764428487497,"duration":2544},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/settings/account/contracts","time":{"start":1764428484953,"stop":1764428486396,"duration":1443},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Включаю тумблер 'Округление итоговой суммы'","time":{"start":1764428486396,"stop":1764428487465,"duration":1069},"status":"passed","steps":[{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1764428486396,"stop":1764428486425,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Состояние тумблера округления (по aria-checked)","time":{"start":1764428487465,"stop":1764428487497,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Возвращаюсь в листинг и проверяю правильность округления","time":{"start":1764428487497,"stop":1764428490291,"duration":2794},"status":"passed","steps":[{"name":"Открываю указанный URL листинга","time":{"start":1764428487497,"stop":1764428488949,"duration":1452},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/catalog/9/3707'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что все цены округлены (копейки = 00, рубли увеличены)","time":{"start":1764428488949,"stop":1764428490291,"duration":1342},"status":"passed","steps":[{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1764428488949,"stop":1764428490291,"duration":1342},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1764428488949,"stop":1764428490291,"duration":1342},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"original_price_data","value":"[{'full_price': '268.12 ₽', 'rubles': 268, 'kopecks': 12}, {'full_price': '470.25 ₽', 'rubles': 470, 'kopecks': 25}]"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Дополнительная проверка: все копейки равны 00","time":{"start":1764428490291,"stop":1764428490322,"duration":31},"status":"passed","steps":[{"name":"Извлекаю структурированные данные о ценах (рубли, копейки)","time":{"start":1764428490291,"stop":1764428490322,"duration":31},"status":"passed","steps":[{"name":"Получаю тексты цен из видимых карточек","time":{"start":1764428490291,"stop":1764428490322,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":27,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1764428490322,"stop":1764428490337,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1764429507386,"stop":1764429507630,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1764429507632,"stop":1764429507643,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"5882-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":16,"skipped":0,"passed":104,"unknown":0,"total":122},"items":[{"uid":"f23c08d8509712e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/311/#testresult/f23c08d8509712e","status":"passed","time":{"start":1764425629710,"stop":1764425649238,"duration":19528}},{"uid":"6eaf7071003efe79","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/310/#testresult/6eaf7071003efe79","status":"passed","time":{"start":1764348140670,"stop":1764348160525,"duration":19855}},{"uid":"8aa833fa8f2e0f40","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/309/#testresult/8aa833fa8f2e0f40","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1764339389601,"stop":1764339430090,"duration":40489}},{"uid":"c2c9c56c1a1896c1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/308/#testresult/c2c9c56c1a1896c1","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1764252932639,"stop":1764252972774,"duration":40135}},{"uid":"77cc1e640c384fdc","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/307/#testresult/77cc1e640c384fdc","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1764166621232,"stop":1764166661666,"duration":40434}},{"uid":"974ec54a9af55ee9","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/306/#testresult/974ec54a9af55ee9","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1764080161792,"stop":1764080201802,"duration":40010}},{"uid":"b95acfdc61969dc0","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/305/#testresult/b95acfdc61969dc0","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763993766173,"stop":1763993806017,"duration":39844}},{"uid":"3ffd50d452d4d19e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/304/#testresult/3ffd50d452d4d19e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763907195164,"stop":1763907235139,"duration":39975}},{"uid":"c3f2f7f76504b37f","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/303/#testresult/c3f2f7f76504b37f","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763820774936,"stop":1763820815493,"duration":40557}},{"uid":"5e452c9253b0e8eb","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/302/#testresult/5e452c9253b0e8eb","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763734522336,"stop":1763734565346,"duration":43010}},{"uid":"fb418beabff18007","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/301/#testresult/fb418beabff18007","status":"passed","time":{"start":1763648134842,"stop":1763648153833,"duration":18991}},{"uid":"5b2ccdd13fbdbfda","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/300/#testresult/5b2ccdd13fbdbfda","status":"passed","time":{"start":1763561731249,"stop":1763561749926,"duration":18677}},{"uid":"7d27f7667acfdc12","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/299/#testresult/7d27f7667acfdc12","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763475311019,"stop":1763475351000,"duration":39981}},{"uid":"7e20998f75162ddc","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/298/#testresult/7e20998f75162ddc","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763388937845,"stop":1763388977855,"duration":40010}},{"uid":"b5ffe5b9e970ecd8","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/297/#testresult/b5ffe5b9e970ecd8","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763302412321,"stop":1763302453895,"duration":41574}},{"uid":"3daa475bbd028639","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/296/#testresult/3daa475bbd028639","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763215975018,"stop":1763216016738,"duration":41720}},{"uid":"ecebb4e7ef2e3b0b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/295/#testresult/ecebb4e7ef2e3b0b","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763129722113,"stop":1763129761892,"duration":39779}},{"uid":"fc6b2bc019b4cdc8","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/294/#testresult/fc6b2bc019b4cdc8","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1763043350119,"stop":1763043390141,"duration":40022}},{"uid":"9c42602e4e7f1a2e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/293/#testresult/9c42602e4e7f1a2e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1762956972103,"stop":1762957012107,"duration":40004}},{"uid":"cb11e650c1a4d2b2","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/292/#testresult/cb11e650c1a4d2b2","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.wait_for_selector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".text-accent\") to be visible","time":{"start":1762870564665,"stop":1762870608690,"duration":44025}}]},"tags":[]},"source":"f39497e5ddad5b46.json","parameterValues":["'chromium'"]}