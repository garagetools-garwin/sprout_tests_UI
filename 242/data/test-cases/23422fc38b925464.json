{"uid":"23422fc38b925464","name":"Приглашение пользователя и проверка активации","fullName":"tests.test_users#test_user_invitation","historyId":"079890204cf97f8610d9e73d2a80c272","time":{"start":1759415065713,"stop":1759415104229,"duration":38516},"status":"broken","statusMessage":"IndexError: list index out of range","statusTrace":"tests/test_users.py:52: in test_user_invitation\n    user_autorization.activate_account_directly()\npage_opjects/autorization_page.py:115: in activate_account_directly\n    activation_url = self.get_activation_link_testmail_app()\npage_opjects/autorization_page.py:92: in get_activation_link_testmail_app\n    email_text = response_json[\"emails\"][0][\"text\"]\nE   IndexError: list index out of range","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759414616995,"stop":1759414617049,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759414616995,"stop":1759414616995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1759414617049,"stop":1759414617366,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759414617049,"stop":1759414617049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1759414617366,"stop":1759414617366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1759414617368,"stop":1759414617438,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1759415065712,"stop":1759415065712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_user_fixture","time":{"start":1759415065712,"stop":1759415065712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"IndexError: list index out of range","statusTrace":"tests/test_users.py:52: in test_user_invitation\n    user_autorization.activate_account_directly()\npage_opjects/autorization_page.py:115: in activate_account_directly\n    activation_url = self.get_activation_link_testmail_app()\npage_opjects/autorization_page.py:92: in get_activation_link_testmail_app\n    email_text = response_json[\"emails\"][0][\"text\"]\nE   IndexError: list index out of range","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1759415065751,"stop":1759415070093,"duration":4342},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1759415070093,"stop":1759415073411,"duration":3318},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/","time":{"start":1759415073411,"stop":1759415075213,"duration":1802},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаю на иконку настроек","time":{"start":1759415075236,"stop":1759415076314,"duration":1078},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаю на иконку Пользователи","time":{"start":1759415076314,"stop":1759415077418,"duration":1104},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавляю пользователя","time":{"start":1759415077418,"stop":1759415082935,"duration":5517},"status":"passed","steps":[{"name":"Кликаю на иконку Добавить пользователя","time":{"start":1759415077418,"stop":1759415078493,"duration":1075},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяем, что пользователь уже есть, но не активирован","time":{"start":1759415087417,"stop":1759415088797,"duration":1380},"status":"passed","steps":[{"name":"Кликаю на первого пользователя в списке","time":{"start":1759415087417,"stop":1759415088787,"duration":1370},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю текст подсказки в карточке пользователя","time":{"start":1759415088788,"stop":1759415088797,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Активирую аккаунт вручную через письмо","time":{"start":1759415088850,"stop":1759415104228,"duration":15378},"status":"broken","statusMessage":"IndexError: list index out of range\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/autorization_page.py\", line 115, in activate_account_directly\n    activation_url = self.get_activation_link_testmail_app()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/autorization_page.py\", line 92, in get_activation_link_testmail_app\n    email_text = response_json[\"emails\"][0][\"text\"]\n                 ~~~~~~~~~~~~~~~~~~~~~~~^^^\n","steps":[{"name":"Получаю ссылку для активации аккаунта","time":{"start":1759415088850,"stop":1759415104228,"duration":15378},"status":"broken","statusMessage":"IndexError: list index out of range\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/autorization_page.py\", line 92, in get_activation_link_testmail_app\n    email_text = response_json[\"emails\"][0][\"text\"]\n                 ~~~~~~~~~~~~~~~~~~~~~~~^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d402206916e74ba0","name":"DEBUG","source":"d402206916e74ba0.txt","type":"text/plain","size":37}],"parameters":[],"stepsCount":12,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_user_fixture::0","time":{"start":1759415104235,"stop":1759415115305,"duration":11070},"status":"passed","steps":[{"name":"Удаляю пользователя в teardown","time":{"start":1759415104236,"stop":1759415115304,"duration":11068},"status":"broken","statusMessage":"AttributeError: 'UsersSettingsPage' object has no attribute 'click_users_button'. Did you mean: 'click_add_user_button'?\n","statusTrace":"  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/conftest.py\", line 394, in delete_user_fixture\n    settings_account_page.click_users_button()\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Открываю https://sprout-store.ru/settings/account/user-list","time":{"start":1759415104276,"stop":1759415108657,"duration":4381},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1759415108657,"stop":1759415111962,"duration":3305},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Кликаю на иконку настроек","time":{"start":1759415111962,"stop":1759415115304,"duration":3342},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"df6ee33f07246c64","name":"DEBUG","source":"df6ee33f07246c64.txt","type":"text/plain","size":23},{"uid":"284cf3dc18f2b1c7","name":"Ошибка в teardown при удалении пользователя","source":"284cf3dc18f2b1c7.txt","type":"text/plain","size":64}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"page_fixture::0","time":{"start":1759415115306,"stop":1759415116385,"duration":1079},"status":"passed","steps":[],"attachments":[{"uid":"9e0ea0dfa7ceb3b2","name":"trace","source":"9e0ea0dfa7ceb3b2.zip","type":"application/zip","size":7498588},{"uid":"c55986404cb5155e","name":"failure_screenshot","source":"c55986404cb5155e.png","type":"image/png","size":123894},{"uid":"ff16284cf6096995","name":"page_source","source":"ff16284cf6096995.html","type":"text/html","size":283070},{"uid":"15e7e12aa406c7b1","name":"trace","source":"15e7e12aa406c7b1.zip","type":"application/zip","size":1963},{"uid":"2dda82e3eb4ce3e9","name":"failure_screenshot","source":"2dda82e3eb4ce3e9.png","type":"image/png","size":8588},{"uid":"d39aa6afb09b4187","name":"page_source","source":"d39aa6afb09b4187.html","type":"text/html","size":39},{"uid":"2d940c8d126c129e","name":"trace","source":"2d940c8d126c129e.zip","type":"application/zip","size":4622355},{"uid":"a2679f55371fd807","name":"failure_screenshot","source":"a2679f55371fd807.png","type":"image/png","size":84882},{"uid":"8af6abfbf5d67c","name":"page_source","source":"8af6abfbf5d67c.html","type":"text/html","size":318669}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1759415163504,"stop":1759415163676,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1759415163678,"stop":1759415163691,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_users"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"6330-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_users"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":9,"broken":49,"skipped":0,"passed":70,"unknown":0,"total":128},"items":[{"uid":"245905e1f7bd45a2","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/241/#testresult/245905e1f7bd45a2","status":"passed","time":{"start":1759328665635,"stop":1759328735564,"duration":69929}},{"uid":"646caead274e199e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/240/#testresult/646caead274e199e","status":"passed","time":{"start":1759324907676,"stop":1759324973379,"duration":65703}},{"uid":"6ecf48cb3498568a","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/239/#testresult/6ecf48cb3498568a","status":"passed","time":{"start":1759302709155,"stop":1759302773368,"duration":64213}},{"uid":"ff48ea552eb83e59","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/237/#testresult/ff48ea552eb83e59","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.hover: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\".sidebar-item.sidebar-item__active\")","time":{"start":1759218674309,"stop":1759218713836,"duration":39527}},{"uid":"fb27e94c6c110f48","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/236/#testresult/fb27e94c6c110f48","status":"passed","time":{"start":1759155691417,"stop":1759155754216,"duration":62799}},{"uid":"6f4cdb41c1a526e7","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/235/#testresult/6f4cdb41c1a526e7","status":"passed","time":{"start":1759069178401,"stop":1759069241882,"duration":63481}},{"uid":"daf097f1ece71e77","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/234/#testresult/daf097f1ece71e77","status":"passed","time":{"start":1758982837237,"stop":1758982900206,"duration":62969}},{"uid":"e109681bf1e0c6cd","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/233/#testresult/e109681bf1e0c6cd","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"div button[type='submit']\")\n    - locator resolved to <button disabled type=\"submit\" class=\"ant-btn css-amq5gd ant-btn-default button-lg primary w-100\">…</button>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is not enabled\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is not enabled\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is not enabled\n     - retrying click action\n       - waiting 500ms","time":{"start":1758896424541,"stop":1758896495370,"duration":70829}},{"uid":"94d858663d806d9f","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/232/#testresult/94d858663d806d9f","status":"passed","time":{"start":1758810188188,"stop":1758810250633,"duration":62445}},{"uid":"ebdf7e1e6443263b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/231/#testresult/ebdf7e1e6443263b","status":"passed","time":{"start":1758723546860,"stop":1758723609253,"duration":62393}},{"uid":"fcdb4e1c37b35267","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/230/#testresult/fcdb4e1c37b35267","status":"passed","time":{"start":1758637298764,"stop":1758637363162,"duration":64398}},{"uid":"f8bb2f85b73b8352","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/229/#testresult/f8bb2f85b73b8352","status":"passed","time":{"start":1758551135578,"stop":1758551203066,"duration":67488}},{"uid":"ecc6aca79b2353b1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/228/#testresult/ecc6aca79b2353b1","status":"passed","time":{"start":1758464406040,"stop":1758464470586,"duration":64546}},{"uid":"4e58360c5806dbb0","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/227/#testresult/4e58360c5806dbb0","status":"passed","time":{"start":1758377953466,"stop":1758378016317,"duration":62851}},{"uid":"e8f7c97814eefbd1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/226/#testresult/e8f7c97814eefbd1","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.\nCall log:\n  - navigating to \"https://sprout-store.ru/activation?hash=67d3f125-1b85-40b3-90a0-df7f2fcedaf8\", waiting until \"load\"","time":{"start":1758291699722,"stop":1758291768152,"duration":68430}},{"uid":"b1ab23a860d36a5b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/225/#testresult/b1ab23a860d36a5b","status":"passed","time":{"start":1758205365015,"stop":1758205427177,"duration":62162}},{"uid":"96663699a0f6be8b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/224/#testresult/96663699a0f6be8b","status":"passed","time":{"start":1758118912085,"stop":1758118974359,"duration":62274}},{"uid":"ce5d9666c234e21f","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/ce5d9666c234e21f","status":"passed","time":{"start":1758095737720,"stop":1758095802649,"duration":64929}},{"uid":"3457195c47eeb78b","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/3457195c47eeb78b","status":"passed","time":{"start":1758034532460,"stop":1758034598336,"duration":65876}},{"uid":"4825fed668606cb0","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/4825fed668606cb0","status":"passed","time":{"start":1758031840022,"stop":1758031902018,"duration":61996}}]},"tags":[]},"source":"23422fc38b925464.json","parameterValues":["'chromium'"]}