{"uid":"3f9d323b41542b87","name":"Операция с ролями (выбор, проверка доступных ролей, массовый выбор)","fullName":"tests.test_settings#test_roles_selection_in_user_card","historyId":"d19fafbcde4b2401895265d01c98a938","time":{"start":1758095675600,"stop":1758095700081,"duration":24481},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1758095348871,"stop":1758095348924,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758095348924,"stop":1758095348924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758095348924,"stop":1758095348924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758095348924,"stop":1758095348924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758095348924,"stop":1758095348924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1758095348925,"stop":1758095349247,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1758095348925,"stop":1758095348925,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1758095349248,"stop":1758095349248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1758095349248,"stop":1758095349315,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1758095349248,"stop":1758095349248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1758095349248,"stop":1758095349248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1758095675600,"stop":1758095675600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1758095675643,"stop":1758095678846,"duration":3203},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1758095678846,"stop":1758095682162,"duration":3316},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/settings/account/user-list","time":{"start":1758095682163,"stop":1758095683419,"duration":1256},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758095683419,"stop":1758095685550,"duration":2131},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758095685550,"stop":1758095685550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что отображаются роли 'Пользователь' и 'Администратор аккаунта'","time":{"start":1758095685550,"stop":1758095685567,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758095685567,"stop":1758095686596,"duration":1029},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Дважды кликаю по чекбоксу Все, чтобы сбросить роли","time":{"start":1758095686596,"stop":1758095687652,"duration":1056},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager НЕ отображается (Доступна только закупщику)","time":{"start":1758095687652,"stop":1758095687661,"duration":9},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758095687652,"stop":1758095687661,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758095687661,"stop":1758095688905,"duration":1244},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758095688905,"stop":1758095691647,"duration":2742},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ФИО в подразделении отсутствует","time":{"start":1758095691647,"stop":1758095691672,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/account/user-list'","time":{"start":1758095691673,"stop":1758095692918,"duration":1245},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/account/user-list'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758095692918,"stop":1758095694161,"duration":1243},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758095694161,"stop":1758095695193,"duration":1032},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю все роли (клик по чекбоксу Все)","time":{"start":1758095695193,"stop":1758095696226,"duration":1033},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758095696226,"stop":1758095696226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что все роли теперь видимы в карточке","time":{"start":1758095696226,"stop":1758095696254,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager отображается (Доступна только закупщику)","time":{"start":1758095696254,"stop":1758095696261,"duration":7},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758095696254,"stop":1758095696261,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758095696262,"stop":1758095697527,"duration":1265},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758095697527,"stop":1758095700045,"duration":2518},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что теперь ФИО присутствует хотя бы 1 раз","time":{"start":1758095700045,"stop":1758095700081,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":24,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1758095700082,"stop":1758095700094,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1758095844537,"stop":1758095844683,"duration":146},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1758095844685,"stop":1758095844695,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"6358-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":4,"skipped":0,"passed":4,"unknown":0,"total":9},"items":[{"uid":"bbc2f07532d647e1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/bbc2f07532d647e1","status":"passed","time":{"start":1758034468779,"stop":1758034494455,"duration":25676}},{"uid":"7cfbbf4c46a8a9e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/7cfbbf4c46a8a9e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span title=\"Тестов Тесттт т\" class=\"ant-select-selection-item\">Тестов Тесттт т</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1758031761271,"stop":1758031805216,"duration":43945}},{"uid":"81b888c53582e480","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/219/#testresult/81b888c53582e480","status":"failed","statusDetails":"AssertionError: assert not True\n +  where True = is_manager_link_visible()\n +    where is_manager_link_visible = <page_opjects.settings_page.users_settings_page.UserModal object at 0x7f9f6c382960>.is_manager_link_visible","time":{"start":1757945380439,"stop":1757945391722,"duration":11283}},{"uid":"4e71f95861788359","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/218/#testresult/4e71f95861788359","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"undefined_list\" aria-controls=\"undefined_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    57 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757859009295,"stop":1757859054642,"duration":45347}},{"uid":"dee647af7487d279","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/217/#testresult/dee647af7487d279","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757772528959,"stop":1757772572831,"duration":43872}},{"uid":"8d4942a9ffdb5bd4","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/216/#testresult/8d4942a9ffdb5bd4","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757686138010,"stop":1757686181582,"duration":43572}},{"uid":"b24dd919e413d8c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/215/#testresult/b24dd919e413d8c","status":"passed","time":{"start":1757599700261,"stop":1757599720309,"duration":20048}},{"uid":"ab0263928bf24117","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/214/#testresult/ab0263928bf24117","status":"passed","time":{"start":1757591815774,"stop":1757591838639,"duration":22865}}]},"tags":[]},"source":"3f9d323b41542b87.json","parameterValues":["'chromium'"]}