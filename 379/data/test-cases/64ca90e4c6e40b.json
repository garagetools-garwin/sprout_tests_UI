{"uid":"64ca90e4c6e40b","name":"TC-801: Проверка отображения доступных средств для закупки","fullName":"tests.test_cart#test_display_available_purchase_limit","historyId":"8141be5d62a0546ad1721828374ffeeb","time":{"start":1769697816786,"stop":1769697847548,"duration":30762},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'","statusTrace":"tests/test_cart.py:461: in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\npage_opjects/cart_page.py:403: in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\nE   ValueError: could not convert string to float: 'Лимитпревышенна462.99'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1769697369758,"stop":1769697369758,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1769697369758,"stop":1769697369758,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1769697369758,"stop":1769697369817,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769697369818,"stop":1769697369818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1769697369818,"stop":1769697370116,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1769697369818,"stop":1769697369818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1769697369818,"stop":1769697369818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1769697370117,"stop":1769697370117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1769697370117,"stop":1769697370117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1769697370117,"stop":1769697370244,"duration":127},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1769697370117,"stop":1769697370117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1769697816785,"stop":1769697816785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'","statusTrace":"tests/test_cart.py:461: in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\npage_opjects/cart_page.py:403: in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\nE   ValueError: could not convert string to float: 'Лимитпревышенна462.99'","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1769697816848,"stop":1769697821208,"duration":4360},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1769697821208,"stop":1769697824525,"duration":3317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769697824525,"stop":1769697827556,"duration":3031},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1769697827557,"stop":1769697831628,"duration":4071},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769697827557,"stop":1769697830449,"duration":2892},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю на кнопку меню","time":{"start":1769697830449,"stop":1769697831619,"duration":1170},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://sprout-store.ru'"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю начальный лимит подразделения","time":{"start":1769697831628,"stop":1769697833727,"duration":2099},"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769697831628,"stop":1769697833705,"duration":2077},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю общую сумму лимита","time":{"start":1769697833705,"stop":1769697833727,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"840779443c97f303","name":"Начальный лимит","source":"840779443c97f303.attach","type":"text/plain","size":39}],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Добавляю в корзину","time":{"start":1769697833727,"stop":1769697847510,"duration":13783},"status":"passed","steps":[{"name":"Добавляю товар дороже 350 в корзину","time":{"start":1769697837661,"stop":1769697842292,"duration":4631},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min_price","value":"350"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/basket","time":{"start":1769697842292,"stop":1769697845510,"duration":3218},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю стоимость добавленного товара","time":{"start":1769697847510,"stop":1769697847533,"duration":23},"status":"passed","steps":[{"name":"Получаю стоимость товаров из блока калькуляции","time":{"start":1769697847510,"stop":1769697847533,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"1aa0e0bcd20cbc42","name":"Стоимость товара","source":"1aa0e0bcd20cbc42.attach","type":"text/plain","size":42}],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что в блоке лимита отображается общая сумма лимита","time":{"start":1769697847533,"stop":1769697847540,"duration":7},"status":"passed","steps":[{"name":"Получаю общую сумму лимита","time":{"start":1769697847533,"stop":1769697847540,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что оставшаяся сумма лимита рассчитана корректно","time":{"start":1769697847540,"stop":1769697847547,"duration":7},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'\n","statusTrace":"  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/tests/test_cart.py\", line 461, in test_display_available_purchase_limit\n    remaining_limit = cart.get_limit_remaining()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/cart_page.py\", line 403, in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Получаю оставшуюся сумму лимита","time":{"start":1769697847540,"stop":1769697847547,"duration":7},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/sprout_tests_UI/sprout_tests_UI/page_opjects/cart_page.py\", line 403, in get_limit_remaining\n    return float(text.replace(\" ₽\", \"\").replace(\" \", \"\").replace(\"₽\", \"\").strip())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":18,"shouldDisplayMessage":true,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1769697847562,"stop":1769697848147,"duration":585},"status":"passed","steps":[],"attachments":[{"uid":"9e994a844d3a6c6f","name":"trace","source":"9e994a844d3a6c6f.zip","type":"application/zip","size":8776760},{"uid":"d4b07aee43eefbd4","name":"failure_screenshot","source":"d4b07aee43eefbd4.png","type":"image/png","size":114122},{"uid":"701587c176a030a0","name":"page_source","source":"701587c176a030a0.html","type":"text/html","size":290750}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1769699437688,"stop":1769699438014,"duration":326},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1769699438015,"stop":1769699438025,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"6024-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":3,"unknown":0,"total":5},"items":[{"uid":"f1d3bf7f118df920","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/378/#testresult/f1d3bf7f118df920","status":"broken","statusDetails":"ValueError: could not convert string to float: 'Лимитпревышенна462.99'","time":{"start":1769610811738,"stop":1769610849356,"duration":37618}},{"uid":"f291f6e8a775471d","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/377/#testresult/f291f6e8a775471d","status":"passed","time":{"start":1769524234925,"stop":1769524262628,"duration":27703}},{"uid":"2614adca1ca1ae10","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/376/#testresult/2614adca1ca1ae10","status":"passed","time":{"start":1769437731486,"stop":1769437758253,"duration":26767}},{"uid":"86af0fa2ee886846","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/375/#testresult/86af0fa2ee886846","status":"passed","time":{"start":1769431504514,"stop":1769431529547,"duration":25033}}]},"tags":[]},"source":"64ca90e4c6e40b.json","parameterValues":["'chromium'"]}