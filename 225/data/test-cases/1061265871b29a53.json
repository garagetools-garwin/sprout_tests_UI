{"uid":"1061265871b29a53","name":"Операция с ролями (выбор, проверка доступных ролей, массовый выбор)","fullName":"tests.test_settings#test_roles_selection_in_user_card","historyId":"d19fafbcde4b2401895265d01c98a938","time":{"start":1758205308514,"stop":1758205330896,"duration":22382},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1758205005370,"stop":1758205005422,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1758205005422,"stop":1758205005716,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758205005422,"stop":1758205005422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758205005422,"stop":1758205005422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758205005422,"stop":1758205005422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1758205005422,"stop":1758205005422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758205005422,"stop":1758205005422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1758205005717,"stop":1758205005717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1758205005717,"stop":1758205005717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1758205005717,"stop":1758205005717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1758205005717,"stop":1758205005796,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1758205308514,"stop":1758205308514,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"Открываю https://sprout-store.ru/login","time":{"start":1758205308558,"stop":1758205311247,"duration":2689},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Авторизуюсь (Покупатель Администратор)","time":{"start":1758205311247,"stop":1758205314586,"duration":3339},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю https://sprout-store.ru/settings/account/user-list","time":{"start":1758205314586,"stop":1758205315840,"duration":1254},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758205315840,"stop":1758205317089,"duration":1249},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758205317089,"stop":1758205317089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что отображаются роли 'Пользователь' и 'Администратор аккаунта'","time":{"start":1758205317089,"stop":1758205317105,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758205317105,"stop":1758205318137,"duration":1032},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Дважды кликаю по чекбоксу Все, чтобы сбросить роли","time":{"start":1758205318137,"stop":1758205319187,"duration":1050},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager НЕ отображается (Доступна только закупщику)","time":{"start":1758205319187,"stop":1758205319207,"duration":20},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758205319187,"stop":1758205319207,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758205319207,"stop":1758205320441,"duration":1234},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758205320442,"stop":1758205322920,"duration":2478},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ФИО в подразделении отсутствует","time":{"start":1758205322920,"stop":1758205322947,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/account/user-list'","time":{"start":1758205322947,"stop":1758205324141,"duration":1194},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/account/user-list'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю последнюю карточку пользователя","time":{"start":1758205324141,"stop":1758205325206,"duration":1065},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cards","value":"<Locator frame=<Frame name= url='https://sprout-store.ru/settings/account/user-list'> selector='.ant-table-row.ant-table-row-level-0'>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаю Назначить роль","time":{"start":1758205325206,"stop":1758205326250,"duration":1044},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю все роли (клик по чекбоксу Все)","time":{"start":1758205326250,"stop":1758205327284,"duration":1034},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Получаю блок ролей","time":{"start":1758205327284,"stop":1758205327284,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что все роли теперь видимы в карточке","time":{"start":1758205327284,"stop":1758205327312,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что ссылка /request-list/manager отображается (Доступна только закупщику)","time":{"start":1758205327312,"stop":1758205327319,"duration":7},"status":"passed","steps":[{"name":"Проверяю наличие ссылки на менеджера","time":{"start":1758205327312,"stop":1758205327319,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу по ссылке 'https://sprout-store.ru/settings/subdivision/136/general'","time":{"start":1758205327319,"stop":1758205328521,"duration":1202},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://sprout-store.ru/settings/subdivision/136/general'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Перехожу в подразделение и раскрываю поиск по 'Руководитель подразделения'","time":{"start":1758205328521,"stop":1758205330854,"duration":2333},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что теперь ФИО присутствует хотя бы 1 раз","time":{"start":1758205330854,"stop":1758205330896,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":24,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1758205330896,"stop":1758205330908,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1758205465584,"stop":1758205465727,"duration":143},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1758205465729,"stop":1758205465740,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_settings"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"6390-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":4,"skipped":0,"passed":6,"unknown":0,"total":11},"items":[{"uid":"8f2290cfb3c987c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/224/#testresult/8f2290cfb3c987c","status":"passed","time":{"start":1758118855364,"stop":1758118877882,"duration":22518}},{"uid":"3f9d323b41542b87","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/223/#testresult/3f9d323b41542b87","status":"passed","time":{"start":1758095675600,"stop":1758095700081,"duration":24481}},{"uid":"bbc2f07532d647e1","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/221/#testresult/bbc2f07532d647e1","status":"passed","time":{"start":1758034468779,"stop":1758034494455,"duration":25676}},{"uid":"7cfbbf4c46a8a9e","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/220/#testresult/7cfbbf4c46a8a9e","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span title=\"Тестов Тесттт т\" class=\"ant-select-selection-item\">Тестов Тесттт т</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1758031761271,"stop":1758031805216,"duration":43945}},{"uid":"81b888c53582e480","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/219/#testresult/81b888c53582e480","status":"failed","statusDetails":"AssertionError: assert not True\n +  where True = is_manager_link_visible()\n +    where is_manager_link_visible = <page_opjects.settings_page.users_settings_page.UserModal object at 0x7f9f6c382960>.is_manager_link_visible","time":{"start":1757945380439,"stop":1757945391722,"duration":11283}},{"uid":"4e71f95861788359","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/218/#testresult/4e71f95861788359","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"undefined_list\" aria-controls=\"undefined_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    57 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757859009295,"stop":1757859054642,"duration":45347}},{"uid":"dee647af7487d279","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/217/#testresult/dee647af7487d279","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757772528959,"stop":1757772572831,"duration":43872}},{"uid":"8d4942a9ffdb5bd4","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/216/#testresult/8d4942a9ffdb5bd4","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"label:has-text('Руководитель подразделения')\").locator(\"../../..\").locator(\".ant-select-selection-search-input\")\n    - locator resolved to <input readonly value=\"\" type=\"search\" role=\"combobox\" id=\"rc_select_4\" unselectable=\"on\" autocomplete=\"off\" aria-label=\"Search\" aria-expanded=\"false\" aria-haspopup=\"listbox\" aria-autocomplete=\"list\" aria-owns=\"rc_select_4_list\" aria-controls=\"rc_select_4_list\" class=\"ant-select-selection-search-input\"/>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div class=\"spin-indicator\">…</div> from <div>…</div> subtree intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    58 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <span class=\"ant-select-selection-item\" title=\"Иванов Игорь Владимирович\">Иванов Игорь Владимирович</span> intercepts pointer events\n     - retrying click action\n       - waiting 500ms","time":{"start":1757686138010,"stop":1757686181582,"duration":43572}},{"uid":"b24dd919e413d8c","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/215/#testresult/b24dd919e413d8c","status":"passed","time":{"start":1757599700261,"stop":1757599720309,"duration":20048}},{"uid":"ab0263928bf24117","reportUrl":"https://garagetools-garwin.github.io/sprout_tests_UI/214/#testresult/ab0263928bf24117","status":"passed","time":{"start":1757591815774,"stop":1757591838639,"duration":22865}}]},"tags":[]},"source":"1061265871b29a53.json","parameterValues":["'chromium'"]}